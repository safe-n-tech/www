{{ define "main" }}

<section class="relative w-full pt-24 max-md:pb-12 max-md:-mb-20 md:pb-2 bg-secondary">
    <div class="container flex flex-col md:flex-row">
        <div class="md:h-[40rem] md:flex md:flex-col md:justify-center">
            <div class="flex w-full justify-center hidden md:block my-8 md:justify-start">
                <img src="/svgs/white_logo.svg" alt="Logo de Safe'N'Tech">
            </div>
            <h1 class="md:text-left text-white text-3xl md:text-5xl my-8 text-h1  md:mx-0">Et si nous
                profitions du numérique en toute sécurité ?</h1>
            <p class="md:text-left text-white mb-4 font-bold">“Ça ne m'arrivera jamais, je connais les risques” </p>


            <p class="md:text-left text-white">On connaît tous ce tonton agaçant qui se croit à l'abri... jusqu'au
                piratage. Ne faites pas comme lui : renforcez votre protection, testez-vous, et adoptez de meilleures
                pratiques.</p>
            <div
                class="flex gap-6 md:gap-1 items-center flex-col justify-center content-center w-full space-x-5 my-12 md:justify-start md:flex-row">
                <a style="color: #153E60" href="/quizz"
                    class="flex justify-center content-center w-full md:w-40 py-3 bg-white border-2 rounded-lg whitespace-nowrap">
                    <span class="whitespace-nowrap text-label pr-3">Me tester</span>
                </a>
                <a style="margin-right: 20px;" href="/thematiques"
                    class="flex justify-center content-center w-full md:w-fit px-3 py-3 border-2 text-white rounded-lg whitespace-nowrap">
                    <span class="whitespace-nowrap text-label">Compléter ma liste de bonnes pratiques</span>
                </a>
            </div>
        </div>
        <div class="flex justify-center items-center md:justify-end w-full justify-center reactive">
            <img class="w-full md:w-4/6 h-auto md:min-w-[15rem] object-fit" src="/images/hero-min.png"
                alt="Icône page Accueil">
        </div>
    </div>
</section>


<section class="relative w-full pt-32 md:pt-10 max-md:pb-36 max-md:-mb-20 md:pb-2 ">
    <div class="container flex flex-col md:flex-row">
        <div class="md:h-[40rem] md:flex md:flex-col md:justify-center">
            <h2 class="text-dark_gray w-full text-3xl text-bold font-bold mb-8">Votre checklist</h2>
            <p class="md:text-left text-dark_gray mb-4">Avez-vous les bonnes pratiques en matière de cybersécurité ?
                Complétez votre checklist et découvrez à quel point vous êtes un expert !</p>


            <h2>Barres de progression par thème</h2>
            <div id="theme-bars"></div>

            <h2>Progression globale</h2>
            <div id="global-progress-container">
                <p>Progression globale : <span id="global-progress-percentage">0%</span></p>
                <div style="background: #eee; width: 100%; height: 20px; border-radius: 5px; overflow: hidden;">
                    <div id="global-progress-bar" style="background: #76c7c0; width: 0; height: 100%;"></div>
                </div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const themeBarsContainer = document.getElementById('theme-bars');
                    const globalProgressBar = document.getElementById('global-progress-bar');
                    const globalProgressPercentage = document.getElementById('global-progress-percentage');

                    // Fonction pour charger l'état des thèmes
                    function loadState() {
                        return JSON.parse(localStorage.getItem('themesState')) || {};
                    }

                    // Fonction pour créer une barre de progression
                    function createProgressBar(theme, percentage) {
                        const container = document.createElement('div');
                        container.style.marginBottom = '10px';

                        const label = document.createElement('p');
                        label.textContent = `Progression ${theme} : ${percentage}%`;

                        const progressBarContainer = document.createElement('div');
                        progressBarContainer.style.background = '#eee';
                        progressBarContainer.style.width = '100%';
                        progressBarContainer.style.height = '20px';
                        progressBarContainer.style.borderRadius = '5px';
                        progressBarContainer.style.overflow = 'hidden';

                        const progressBar = document.createElement('div');
                        progressBar.style.background = '#76c7c0';
                        progressBar.style.width = `${percentage}%`;
                        progressBar.style.height = '100%';

                        progressBarContainer.appendChild(progressBar);
                        container.appendChild(label);
                        container.appendChild(progressBarContainer);

                        themeBarsContainer.appendChild(container);
                    }

                    // Fonction pour calculer et afficher la progression
                    function updateProgress() {
                        const state = loadState();
                        let totalTasks = 0;
                        let totalChecked = 0;

                        // Effacer les barres existantes
                        themeBarsContainer.innerHTML = '';

                        // Calculer la progression par thème
                        for (const theme in state) {
                            const tasks = state[theme].length;
                            const checked = state[theme].filter(item => item).length;
                            const percentage = tasks > 0 ? Math.round((checked / tasks) * 100) : 0;

                            // Ajouter la barre de progression du thème
                            createProgressBar(theme, percentage);

                            // Ajouter aux totaux
                            totalTasks += tasks;
                            totalChecked += checked;
                        }

                        // Calculer la progression globale
                        const globalPercentage = totalTasks > 0 ? Math.round((totalChecked / totalTasks) * 100) : 0;
                        globalProgressBar.style.width = `${globalPercentage}%`;
                        globalProgressPercentage.textContent = `${globalPercentage}%`;
                    }

                    // Mettre à jour la progression au démarrage
                    updateProgress();
                });
            </script>

            <div class="flex justify-center content-center w-full space-x-5 my-12 md:justify-start">
                <a style="background-color:#153E60" href="/quizz"
                    class="flex justify-center content-center w-full md:w-80 py-3 bg-white text-white rounded-lg whitespace-nowrap">
                    <span class="whitespace-nowrap text-label pr-3">Compléter ma checklist</span>
                </a>
            </div>
        </div>
        <div class="flex justify-center items-center md:justify-end w-full justify-center reactive">

        </div>
    </div>
</section>

<section class="relative w-full pt-24 md:pt-10 max-md:pb-12 max-md:-mb-20 md:pb-2 bg-secondary">
    <div class="container flex flex-col md:flex-row md:items-center md:gap-24">
        <div class="md:h-[40rem] md:flex md:flex-col md:justify-center">
            <h2 class="text-white w-full text-3xl text-bold font-bold mb-8">Prenons conscience des dangers</h2>
            <p class="md:text-left text-white mb-4">Perte de données, usurpation d'identité, piratage bancaire : autant
                de
                risques liés à notre manque de vigileance.</p>
            <p class="md:text-left text-white mb-4">Nous avons créé « Safe N Tech » pour vous sensibiliser aux bonnes
                pratiques simples à adopter. </p>
            <p class="md:text-left text-white mb-4">La cybersécurité est l'affaire de tous, et cet outil est là pour
                vous
                accompagner.</p>
            <p class="md:text-left text-white">Testez vos connaissances avec notre quiz et découvrez où vous améliorer.
                Grâce
                à notre documentation ludique, renforcez votre sécurité facilement. </p>
            <div class="flex justify-center content-center w-full space-x-5 my-12 md:justify-start">
                <a href="/quizz"
                    class="flex justify-center content-center w-full md:w-80 py-3 bg-white text-black rounded-lg whitespace-nowrap">
                    <span class="whitespace-nowrap text-label pr-3">Me tester</span>
                </a>
            </div>
        </div>
        <div class="flex justify-center items-center md:justify-end w-full justify-center reactive">
            <img class="w-full md:w-6/6 h-auto md:min-w-[15rem] object-fit" src="/images/cyber_illustration.svg"
                alt="Icône page Accueil">
        </div>
    </div>
</section>


<section class="relative w-full pt-24 md:pt-10 max-md:pb-36 max-md:-mb-20 md:pb-2 ">
    <div class="container flex flex-col-reverse md:flex-row md:items-center md:gap-24">
        <div class="flex justify-center items-center w-full justify-center reactive">
            <img class="w-full md:w-6/6 h-auto md:min-w-[15rem] object-fit" src="/images/cheval.svg"
                alt="Icône page Accueil">
        </div>
        <div class="md:h-[40rem] md:flex md:flex-col md:justify-center">
            <h2 class="text-dark_gray w-full text-3xl text-bold font-bold mb-4">Le projet</h2>
            <p class="md:text-left text-dark_gray mb-4">Le projet part d'un constat simple : intégrer de bonnes
                pratiques informatiques est crucial pour éviter les risques en ligne.</p>
            <p class="md:text-left text-dark_gray mb-4">Nous avons créé « Safe N Tech » pour vous sensibiliser aux
                bonnes pratiques simples à adopter.</p>
            <p class="md:text-left text-dark_gray mb-4">La cybersécurité est l'affaire de tous, et cet outil est là pour
                vous accompagner.</p>
            <p class="md:text-left text-dark_gray">Testez vos connaissances avec notre quiz et découvrez où vous
                améliorer. Grâce à notre documentation ludique, renforcez votre sécurité facilement.</p>
            <div class="flex justify-center content-center w-full space-x-5 my-12 md:justify-start">
                <a href="/quizz"
                    class="flex justify-center content-center w-full md:w-80 py-3 text-dark_gray border-2 rounded-lg whitespace-nowrap">
                    <span class="whitespace-nowrap text-label pr-3">En savoir plus</span>
                </a>
            </div>
        </div>
    </div>
</section>
{{ end }}
